/**
 * Internationalization module for the Flashcard Generator
 */

export const LANGS = {
  en: { flag: 'üá¨üáß', label: 'EN', name: 'English' },
  nl: { flag: 'üá≥üá±', label: 'NL', name: 'Nederlands' },
  de: { flag: 'üá©üá™', label: 'DE', name: 'Deutsch' },
  fr: { flag: 'üá´üá∑', label: 'FR', name: 'Fran√ßais' },
  es: { flag: 'üá™üá∏', label: 'ES', name: 'Espa√±ol' },
};

export const I18N = {
  en: {
    title: 'Flashcard Generator',
    uploadCsv: 'Upload CSV',
    duplexInfo:
      '<strong>Duplex Printing:</strong> Click \u201cPrint\u201d and enable \u201cPrint on both sides\u201d in your printer dialog. Pages are pre-arranged for perfect alignment.',
    dropText:
      'Drop a CSV file here, or <strong style="color:var(--text);cursor:pointer">browse</strong>',
    delimiterNote: 'Supports comma, semicolon & tab delimiters',
    generate: 'Generate',
    printDuplex: 'Print Duplex',
    clear: 'Clear',
    printSettings: 'Print Settings',
    font: 'Font',
    grid: 'Grid',
    grid2x4: '2 √ó 4 (8 cards)',
    grid2x3: '2 √ó 3 (6 cards)',
    shuffle: 'Shuffle',
    swapSides: 'Swap Sides',
    orCsv: 'or import from file',
    typeCards: 'Type Cards',
    exportCsv: 'Export CSV',
    manualHint:
      'Press <kbd>Enter</kbd> to advance. <kbd>Tab</kbd> to move between fields. Paste tab-separated data to bulk-add.',
    autoSaved: 'Cards are auto-saved in your browser.',
    addCard: '+ Add Card',
    clickFlip: 'Click a card to flip',
    allFront: 'All Front',
    allBack: 'All Back',
    footerCopy: 'Flashcard Generator &copy; 2026',
    front: 'Front',
    back: 'Back',
    remove: 'Remove',
    loadedCards: (n) => `Loaded ${n} cards`,
    generatedCards: (n) => `Generated ${n} cards`,
    exportedCards: (n) => `Exported ${n} cards`,
    pastedCards: (n) => `Pasted ${n} card${n !== 1 ? 's' : ''}`,
    clearedCards: (n) => `Cleared ${n} cards.`,
    undo: 'Undo',
    cardsRestored: 'Cards restored',
    cardsShuffled: 'Cards shuffled',
    sidesSwapped: 'Front & back swapped',
    csvMin2Cols: 'CSV must have at least 2 columns',
    noValidData: 'No valid flashcard data found',
    enterOneCard: 'Enter at least one card with both sides filled',
    noCardsExport: 'No cards to export',
    dropFileError: 'Please drop a CSV, TSV, or TXT file',
    dupesDetected: (n) => `${n} duplicate card${n > 1 ? 's' : ''} detected`,
    popupBlocked: 'Popup blocked. Allow popups to print.',
    counterText: (cards, pages, sheets) =>
      `<strong>${cards}</strong> card${cards !== 1 ? 's' : ''} &middot; ${pages} page${pages !== 1 ? 's' : ''} &middot; ${sheets} sheets`,
    // Steps
    step1Label: 'Step 1',
    step2Label: 'Step 2',
    step3Label: 'Step 3',
    step1Title: 'Add Data',
    step2Title: 'Preview',
    step3Title: 'Print / Save',
    nextPreview: 'Next: Preview',
    nextPrint: 'Next: Print / Save',
    backData: 'Back',
    backPreview: 'Back to Preview',
    printSave: 'Print / Save',
    startOver: 'Start Over',
    summaryCards: 'Cards',
    summaryPages: 'Pages',
    summarySheets: 'Sheets (duplex)',
    orPaste: 'or paste CSV text',
    pasteCsv: 'Paste CSV',
    pasteHint: 'Paste your CSV data below (with header row). Supports comma, semicolon & tab delimiters.',
    pastePlaceholder: 'front,back\nhello,hallo\ngoodbye,tot ziens',
    loadPasted: 'Load Pasted Data',
    pasteEmpty: 'Paste some CSV data first',
  },
  nl: {
    title: 'Flashcard Generator',
    uploadCsv: 'CSV Uploaden',
    duplexInfo:
      '<strong>Dubbelzijdig printen:</strong> Klik op \u201cPrinten\u201d en schakel \u201cDubbelzijdig afdrukken\u201d in bij je printerinstellingen. Pagina\u2019s zijn voorbereid voor perfecte uitlijning.',
    dropText:
      'Sleep een CSV-bestand hierheen, of <strong style="color:var(--text);cursor:pointer">blader</strong>',
    delimiterNote: 'Ondersteunt komma-, puntkomma- en tabscheidingstekens',
    generate: 'Genereren',
    printDuplex: 'Dubbelzijdig Printen',
    clear: 'Wissen',
    printSettings: 'Printinstellingen',
    font: 'Lettertype',
    grid: 'Raster',
    grid2x4: '2 √ó 4 (8 kaarten)',
    grid2x3: '2 √ó 3 (6 kaarten)',
    shuffle: 'Husselen',
    swapSides: 'Zijden Wisselen',
    orCsv: 'of importeren uit bestand',
    typeCards: 'Kaarten Typen',
    exportCsv: 'CSV Exporteren',
    manualHint:
      'Druk op <kbd>Enter</kbd> om verder te gaan. <kbd>Tab</kbd> om tussen velden te wisselen. Plak tab-gescheiden data om in bulk toe te voegen.',
    autoSaved: 'Kaarten worden automatisch opgeslagen in je browser.',
    addCard: '+ Kaart Toevoegen',
    clickFlip: 'Klik op een kaart om te draaien',
    allFront: 'Alle Voorkanten',
    allBack: 'Alle Achterkanten',
    footerCopy: 'Flashcard Generator &copy; 2026',
    front: 'Voorkant',
    back: 'Achterkant',
    remove: 'Verwijderen',
    loadedCards: (n) => `${n} kaarten geladen`,
    generatedCards: (n) => `${n} kaarten gegenereerd`,
    exportedCards: (n) => `${n} kaarten ge√´xporteerd`,
    pastedCards: (n) => `${n} kaart${n !== 1 ? 'en' : ''} geplakt`,
    clearedCards: (n) => `${n} kaarten gewist.`,
    undo: 'Ongedaan maken',
    cardsRestored: 'Kaarten hersteld',
    cardsShuffled: 'Kaarten gehusseld',
    sidesSwapped: 'Voor- en achterkant gewisseld',
    csvMin2Cols: 'CSV moet minstens 2 kolommen bevatten',
    noValidData: 'Geen geldige flashcard-gegevens gevonden',
    enterOneCard: 'Vul minstens √©√©n kaart met beide zijden in',
    noCardsExport: 'Geen kaarten om te exporteren',
    dropFileError: 'Sleep een CSV-, TSV- of TXT-bestand',
    dupesDetected: (n) => `${n} dubbele kaart${n > 1 ? 'en' : ''} gevonden`,
    popupBlocked: 'Pop-up geblokkeerd. Sta pop-ups toe om te printen.',
    counterText: (cards, pages, sheets) =>
      `<strong>${cards}</strong> kaart${cards !== 1 ? 'en' : ''} &middot; ${pages} pagina${pages !== 1 ? "'s" : ''} &middot; ${sheets} vellen`,
    step1Label: 'Stap 1',
    step2Label: 'Stap 2',
    step3Label: 'Stap 3',
    step1Title: 'Data Toevoegen',
    step2Title: 'Voorbeeld',
    step3Title: 'Printen / Opslaan',
    nextPreview: 'Volgende: Voorbeeld',
    nextPrint: 'Volgende: Printen / Opslaan',
    backData: 'Terug',
    backPreview: 'Terug naar Voorbeeld',
    printSave: 'Printen / Opslaan',
    startOver: 'Opnieuw Beginnen',
    summaryCards: 'Kaarten',
    summaryPages: "Pagina's",
    summarySheets: 'Vellen (dubbelzijdig)',
    orPaste: 'of plak CSV-tekst',
    pasteCsv: 'CSV Plakken',
    pasteHint: 'Plak je CSV-gegevens hieronder (met koprij). Ondersteunt komma-, puntkomma- en tabscheidingstekens.',
    pastePlaceholder: 'voorkant,achterkant\nhello,hallo\ngoodbye,tot ziens',
    loadPasted: 'Geplakte Data Laden',
    pasteEmpty: 'Plak eerst CSV-gegevens',
  },
  de: {
    title: 'Flashcard Generator',
    uploadCsv: 'CSV Hochladen',
    duplexInfo:
      '<strong>Duplexdruck:</strong> Klicke auf \u201eDrucken\u201c und aktiviere \u201eBeidseitig drucken\u201c im Druckerdialog. Seiten sind f√ºr perfekte Ausrichtung vorbereitet.',
    dropText:
      'CSV-Datei hierher ziehen oder <strong style="color:var(--text);cursor:pointer">durchsuchen</strong>',
    delimiterNote: 'Unterst√ºtzt Komma-, Semikolon- und Tab-Trennzeichen',
    generate: 'Generieren',
    printDuplex: 'Duplex Drucken',
    clear: 'L√∂schen',
    printSettings: 'Druckeinstellungen',
    font: 'Schrift',
    grid: 'Raster',
    grid2x4: '2 √ó 4 (8 Karten)',
    grid2x3: '2 √ó 3 (6 Karten)',
    shuffle: 'Mischen',
    swapSides: 'Seiten Tauschen',
    orCsv: 'oder aus Datei importieren',
    typeCards: 'Karten Eingeben',
    exportCsv: 'CSV Exportieren',
    manualHint:
      '<kbd>Enter</kbd> zum Fortfahren. <kbd>Tab</kbd> zwischen Feldern wechseln. Tab-getrennte Daten einf√ºgen f√ºr Masseneingabe.',
    autoSaved: 'Karten werden automatisch im Browser gespeichert.',
    addCard: '+ Karte Hinzuf√ºgen',
    clickFlip: 'Karte anklicken zum Umdrehen',
    allFront: 'Alle Vorderseiten',
    allBack: 'Alle R√ºckseiten',
    footerCopy: 'Flashcard Generator &copy; 2026',
    front: 'Vorderseite',
    back: 'R√ºckseite',
    remove: 'Entfernen',
    loadedCards: (n) => `${n} Karten geladen`,
    generatedCards: (n) => `${n} Karten generiert`,
    exportedCards: (n) => `${n} Karten exportiert`,
    pastedCards: (n) => `${n} Karte${n !== 1 ? 'n' : ''} eingef√ºgt`,
    clearedCards: (n) => `${n} Karten gel√∂scht.`,
    undo: 'R√ºckg√§ngig',
    cardsRestored: 'Karten wiederhergestellt',
    cardsShuffled: 'Karten gemischt',
    sidesSwapped: 'Vorder- und R√ºckseite getauscht',
    csvMin2Cols: 'CSV muss mindestens 2 Spalten haben',
    noValidData: 'Keine g√ºltigen Flashcard-Daten gefunden',
    enterOneCard: 'Mindestens eine Karte mit beiden Seiten ausf√ºllen',
    noCardsExport: 'Keine Karten zum Exportieren',
    dropFileError: 'Bitte eine CSV-, TSV- oder TXT-Datei ablegen',
    dupesDetected: (n) => `${n} doppelte Karte${n > 1 ? 'n' : ''} erkannt`,
    popupBlocked: 'Popup blockiert. Pop-ups zum Drucken erlauben.',
    counterText: (cards, pages, sheets) =>
      `<strong>${cards}</strong> Karte${cards !== 1 ? 'n' : ''} &middot; ${pages} Seite${pages !== 1 ? 'n' : ''} &middot; ${sheets} Bl√§tter`,
    step1Label: 'Schritt 1',
    step2Label: 'Schritt 2',
    step3Label: 'Schritt 3',
    step1Title: 'Daten Eingeben',
    step2Title: 'Vorschau',
    step3Title: 'Drucken / Speichern',
    nextPreview: 'Weiter: Vorschau',
    nextPrint: 'Weiter: Drucken / Speichern',
    backData: 'Zur√ºck',
    backPreview: 'Zur√ºck zur Vorschau',
    printSave: 'Drucken / Speichern',
    startOver: 'Neu Beginnen',
    summaryCards: 'Karten',
    summaryPages: 'Seiten',
    summarySheets: 'Bl√§tter (Duplex)',
    orPaste: 'oder CSV-Text einf√ºgen',
    pasteCsv: 'CSV Einf√ºgen',
    pasteHint: 'F√ºge deine CSV-Daten unten ein (mit Kopfzeile). Unterst√ºtzt Komma-, Semikolon- und Tab-Trennzeichen.',
    pastePlaceholder: 'Vorderseite,R√ºckseite\nhello,hallo\ngoodbye,auf Wiedersehen',
    loadPasted: 'Eingef√ºgte Daten Laden',
    pasteEmpty: 'Bitte zuerst CSV-Daten einf√ºgen',
  },
  fr: {
    title: 'Flashcard Generator',
    uploadCsv: 'Importer CSV',
    duplexInfo:
      '<strong>Impression recto-verso :</strong> Cliquez sur \u00ab Imprimer \u00bb et activez \u00ab Imprimer recto-verso \u00bb dans les param√®tres. Les pages sont pr√©-arrang√©es pour un alignement parfait.',
    dropText:
      'D√©posez un fichier CSV ici, ou <strong style="color:var(--text);cursor:pointer">parcourir</strong>',
    delimiterNote: 'Prend en charge les s√©parateurs virgule, point-virgule et tabulation',
    generate: 'G√©n√©rer',
    printDuplex: 'Imprimer Recto-Verso',
    clear: 'Effacer',
    printSettings: "Param√®tres d'Impression",
    font: 'Police',
    grid: 'Grille',
    grid2x4: '2 √ó 4 (8 cartes)',
    grid2x3: '2 √ó 3 (6 cartes)',
    shuffle: 'M√©langer',
    swapSides: 'Inverser les C√¥t√©s',
    orCsv: 'ou importer depuis un fichier',
    typeCards: 'Saisir des Cartes',
    exportCsv: 'Exporter CSV',
    manualHint:
      'Appuyez sur <kbd>Entr√©e</kbd> pour avancer. <kbd>Tab</kbd> pour changer de champ. Collez des donn√©es s√©par√©es par tabulation pour un ajout en masse.',
    autoSaved: 'Les cartes sont sauvegard√©es automatiquement dans votre navigateur.',
    addCard: '+ Ajouter une Carte',
    clickFlip: 'Cliquez sur une carte pour la retourner',
    allFront: 'Tous les Rectos',
    allBack: 'Tous les Versos',
    footerCopy: 'Flashcard Generator &copy; 2026',
    front: 'Recto',
    back: 'Verso',
    remove: 'Supprimer',
    loadedCards: (n) => `${n} cartes charg√©es`,
    generatedCards: (n) => `${n} cartes g√©n√©r√©es`,
    exportedCards: (n) => `${n} cartes export√©es`,
    pastedCards: (n) => `${n} carte${n !== 1 ? 's' : ''} coll√©e${n !== 1 ? 's' : ''}`,
    clearedCards: (n) => `${n} cartes effac√©es.`,
    undo: 'Annuler',
    cardsRestored: 'Cartes restaur√©es',
    cardsShuffled: 'Cartes m√©lang√©es',
    sidesSwapped: 'Recto et verso invers√©s',
    csvMin2Cols: 'Le CSV doit avoir au moins 2 colonnes',
    noValidData: 'Aucune donn√©e de flashcard valide trouv√©e',
    enterOneCard: 'Saisissez au moins une carte avec les deux c√¥t√©s remplis',
    noCardsExport: 'Aucune carte √† exporter',
    dropFileError: 'Veuillez d√©poser un fichier CSV, TSV ou TXT',
    dupesDetected: (n) =>
      `${n} carte${n > 1 ? 's' : ''} en double d√©tect√©e${n > 1 ? 's' : ''}`,
    popupBlocked: 'Pop-up bloqu√©e. Autorisez les pop-ups pour imprimer.',
    counterText: (cards, pages, sheets) =>
      `<strong>${cards}</strong> carte${cards !== 1 ? 's' : ''} &middot; ${pages} page${pages !== 1 ? 's' : ''} &middot; ${sheets} feuilles`,
    step1Label: '√âtape 1',
    step2Label: '√âtape 2',
    step3Label: '√âtape 3',
    step1Title: 'Ajouter des Donn√©es',
    step2Title: 'Aper√ßu',
    step3Title: 'Imprimer / Sauvegarder',
    nextPreview: 'Suivant : Aper√ßu',
    nextPrint: 'Suivant : Imprimer / Sauvegarder',
    backData: 'Retour',
    backPreview: "Retour √† l'Aper√ßu",
    printSave: 'Imprimer / Sauvegarder',
    startOver: 'Recommencer',
    summaryCards: 'Cartes',
    summaryPages: 'Pages',
    summarySheets: 'Feuilles (recto-verso)',
    orPaste: 'ou collez du texte CSV',
    pasteCsv: 'Coller CSV',
    pasteHint: "Collez vos donn√©es CSV ci-dessous (avec ligne d'en-t√™te). Prend en charge les s√©parateurs virgule, point-virgule et tabulation.",
    pastePlaceholder: 'recto,verso\nhello,bonjour\ngoodbye,au revoir',
    loadPasted: 'Charger les Donn√©es Coll√©es',
    pasteEmpty: "Collez d'abord des donn√©es CSV",
  },
  es: {
    title: 'Flashcard Generator',
    uploadCsv: 'Subir CSV',
    duplexInfo:
      '<strong>Impresi√≥n a doble cara:</strong> Haz clic en \u201cImprimir\u201d y activa \u201cImprimir a doble cara\u201d en el di√°logo de la impresora. Las p√°ginas est√°n preparadas para una alineaci√≥n perfecta.',
    dropText:
      'Arrastra un archivo CSV aqu√≠, o <strong style="color:var(--text);cursor:pointer">explorar</strong>',
    delimiterNote: 'Compatible con separadores de coma, punto y coma y tabulaci√≥n',
    generate: 'Generar',
    printDuplex: 'Imprimir Doble Cara',
    clear: 'Borrar',
    printSettings: 'Ajustes de Impresi√≥n',
    font: 'Fuente',
    grid: 'Cuadr√≠cula',
    grid2x4: '2 √ó 4 (8 tarjetas)',
    grid2x3: '2 √ó 3 (6 tarjetas)',
    shuffle: 'Barajar',
    swapSides: 'Intercambiar Lados',
    orCsv: 'o importar desde archivo',
    typeCards: 'Escribir Tarjetas',
    exportCsv: 'Exportar CSV',
    manualHint:
      'Pulsa <kbd>Enter</kbd> para avanzar. <kbd>Tab</kbd> para cambiar de campo. Pega datos separados por tabulaciones para a√±adir en masa.',
    autoSaved: 'Las tarjetas se guardan autom√°ticamente en tu navegador.',
    addCard: '+ A√±adir Tarjeta',
    clickFlip: 'Haz clic en una tarjeta para voltearla',
    allFront: 'Todos los Frentes',
    allBack: 'Todos los Reversos',
    footerCopy: 'Flashcard Generator &copy; 2026',
    front: 'Frente',
    back: 'Reverso',
    remove: 'Eliminar',
    loadedCards: (n) => `${n} tarjetas cargadas`,
    generatedCards: (n) => `${n} tarjetas generadas`,
    exportedCards: (n) => `${n} tarjetas exportadas`,
    pastedCards: (n) => `${n} tarjeta${n !== 1 ? 's' : ''} pegada${n !== 1 ? 's' : ''}`,
    clearedCards: (n) => `${n} tarjetas borradas.`,
    undo: 'Deshacer',
    cardsRestored: 'Tarjetas restauradas',
    cardsShuffled: 'Tarjetas barajadas',
    sidesSwapped: 'Frente y reverso intercambiados',
    csvMin2Cols: 'El CSV debe tener al menos 2 columnas',
    noValidData: 'No se encontraron datos v√°lidos de tarjetas',
    enterOneCard: 'Introduce al menos una tarjeta con ambos lados completos',
    noCardsExport: 'No hay tarjetas para exportar',
    dropFileError: 'Por favor, suelta un archivo CSV, TSV o TXT',
    dupesDetected: (n) =>
      `${n} tarjeta${n > 1 ? 's' : ''} duplicada${n > 1 ? 's' : ''} detectada${n > 1 ? 's' : ''}`,
    popupBlocked: 'Pop-up bloqueada. Permite pop-ups para imprimir.',
    counterText: (cards, pages, sheets) =>
      `<strong>${cards}</strong> tarjeta${cards !== 1 ? 's' : ''} &middot; ${pages} p√°gina${pages !== 1 ? 's' : ''} &middot; ${sheets} hojas`,
    step1Label: 'Paso 1',
    step2Label: 'Paso 2',
    step3Label: 'Paso 3',
    step1Title: 'A√±adir Datos',
    step2Title: 'Vista Previa',
    step3Title: 'Imprimir / Guardar',
    nextPreview: 'Siguiente: Vista Previa',
    nextPrint: 'Siguiente: Imprimir / Guardar',
    backData: 'Atr√°s',
    backPreview: 'Volver a Vista Previa',
    printSave: 'Imprimir / Guardar',
    startOver: 'Empezar de Nuevo',
    summaryCards: 'Tarjetas',
    summaryPages: 'P√°ginas',
    summarySheets: 'Hojas (doble cara)',
    orPaste: 'o pega texto CSV',
    pasteCsv: 'Pegar CSV',
    pasteHint: 'Pega tus datos CSV abajo (con fila de encabezado). Compatible con separadores de coma, punto y coma y tabulaci√≥n.',
    pastePlaceholder: 'frente,reverso\nhello,hola\ngoodbye,adi√≥s',
    loadPasted: 'Cargar Datos Pegados',
    pasteEmpty: 'Primero pega datos CSV',
  },
};

/**
 * Translation helper
 * @param {string} lang - Current language code
 * @param {string} key - Translation key
 * @param {...any} args - Arguments for dynamic translations
 * @returns {string}
 */
export function t(lang, key, ...args) {
  const val = I18N[lang]?.[key] ?? I18N.en[key] ?? key;
  return typeof val === 'function' ? val(...args) : val;
}

/**
 * Get all supported language codes
 * @returns {string[]}
 */
export function getSupportedLanguages() {
  return Object.keys(LANGS);
}

/**
 * Check if a language code is supported
 * @param {string} lang
 * @returns {boolean}
 */
export function isSupported(lang) {
  return lang in LANGS;
}
